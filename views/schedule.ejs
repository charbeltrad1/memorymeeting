<%- include('partials/header.ejs'); -%>

<h1>Schedule</h1>

<form class="" action="/schedule" method="post">
  <div class="form-group">
    <label for="FormControlInput1">Title</label>
    <input class="form-control" id="FormControlInput1" name="meetingTitle" placeholder = 'Enter a title for your meeting' required>
  </div>

  <div class="form-group">
    <label for="FormControlInput2">Date</label>
    <input class="form-control" type="datetime-local" id="FormControlInput2" placeholder = 'Enter a date and time for your meeting' name="meetingDate" required>
  </div>

  <div class="form-group">
    <label for="FormControlInput3">Location</label>
    <input class="form-control" id="FormControlInput3" name="meetingLocation" placeholder = 'Enter the location your meeting'>
  </div>
  
  <div class="form-group">
    <label for="FormControlInput4">Url</label>
    <input class="form-control" type="url" id="FormControlInput4" name="meetingUrl" placeholder = 'Enter the url of your meeting'>
  </div>

  <div class="form-group">
    <label for="listParticipants">Participants</label>
    <input type="button" value="+" onclick='add("Participants")'>
    <input type="button" value="-" onclick='remove("Participants")'>
    <ul id="listParticipants" class="elementslist"></ul>
  </div>

  <div class="form-group">
    <label for="listTopics">Topics</label>  
    <input type="button" value="+" onclick='add("Topics")'>
    <input type="button" value="-" onclick='remove("Topics")'>
    <ul id="listTopics" class="elementslist"></ul>
  </div>

  <div class="form-group">
    <label for="FormControlTextarea2">Description</label>
    <textarea class="form-control" id="FormControlTextarea2" rows="5" name="meetingDescription" placeholder = 'Enter the description of your meeting'></textarea>
  </div>

  <button type="submit" name="button" class="btn btn-primary">Schedule meeting</button>
</form>
<script src="https://smtpjs.com/v3/smtp.js"></script>
<script>

function add(inputtype) {
  // Get the input value
  var input = document.createElement('input');
  inputtype === "Participants" ? input.type = 'email' : input.type = "text";
  input.className = 'form-control';
  inputtype === "Participants" ? input.placeholder = 'Enter participant name' : input.placeholder = "Enter a topic";
  input.name = 'meeting'+inputtype+'[]';
  input.required = "required"
  // Add a list item with the input value
  var li = document.createElement('li');
  li.className="nobullet";
  li.appendChild(input);
  document.getElementById('list'+inputtype).appendChild(li);
}

function remove(inputtype){
  var participantsList = document.getElementById('list'+inputtype);
  var liList = participantsList.getElementsByTagName('li');
  participantsList.removeChild(liList[liList.length - 1]);
}
</script>
<%- include('partials/footer.ejs'); %>
